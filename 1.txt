import javax.imageio.ImageIO;
import javax.imageio.ImageReader;
import javax.imageio.ImageWriter;
import javax.imageio.stream.ImageInputStream;
import javax.imageio.stream.ImageOutputStream;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

public class CombineJpgToTiff {

    public static void main(String[] args) throws IOException {
        // Input image files
        File imageFile1 = new File("a.jpg");
        File imageFile2 = new File("b.jpg");

        // Output TIFF file
        File tiffFile = new File("result.tiff");

        // Read JPEG images
        List<BufferedImage> images = new ArrayList<>();
        images.add(ImageIO.read(imageFile1));
        images.add(ImageIO.read(imageFile2));

        // Get TIFF writer
        Iterator<ImageWriter> writers = ImageIO.getImageWritersByFormatName("tiff");
        if (!writers.hasNext()) {
            throw new IllegalStateException("No TIFF writer found");
        }
        ImageWriter writer = writers.next();

        // Create TIFF file
        ImageOutputStream output = ImageIO.createImageOutputStream(tiffFile);
        writer.setOutput(output);

        // Write TIFF image
        try {
            writer.prepareWriteSequence(null);
            for (BufferedImage image : images) {
                writer.writeToSequence(new IIOImage(image, null, null), null);
            }
            writer.endWriteSequence();
        } finally {
            writer.dispose();
            output.close();
        }
    }
}
